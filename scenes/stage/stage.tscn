[gd_scene load_steps=42 format=3 uid="uid://ccfmtiaxoyqck"]

[ext_resource type="Script" uid="uid://bury5oax8w4d7" path="res://lib/controller/stage.gd" id="1_ecxui"]
[ext_resource type="Script" uid="uid://c7ad4jx6mnj3q" path="res://addons/composition/component_owner.gd" id="2_3kwj0"]
[ext_resource type="Script" uid="uid://cpqk8hugr3cve" path="res://lib/character/character.gd" id="2_a221a"]
[ext_resource type="Script" uid="uid://bh1jql0owo2v1" path="res://lib/components/can_jump.gd" id="3_a221a"]
[ext_resource type="Script" uid="uid://cgigy313hqylw" path="res://lib/components/can_move.gd" id="5_pf3bu"]
[ext_resource type="Script" uid="uid://bn7or7ah5u3gm" path="res://lib/components/can_receive_input.gd" id="6_d1yl1"]
[ext_resource type="PackedScene" uid="uid://dmsdctniaxke5" path="res://dialogue_balloons/dialogue_container.tscn" id="7_d1yl1"]
[ext_resource type="Script" uid="uid://ccxoslo2ho4vg" path="res://lib/components/can_attack.gd" id="7_ljyi0"]
[ext_resource type="Script" uid="uid://c3mx820648kp5" path="res://lib/components/has_health.gd" id="8_kb6yy"]
[ext_resource type="PackedScene" uid="uid://c08adq1pgjaml" path="res://assets/piano/SM_Piano.glb" id="10_gf271"]
[ext_resource type="PackedScene" uid="uid://i8mjr1ibov6q" path="res://assets/chair/SM_Chair.glb" id="11_wvhxk"]
[ext_resource type="PackedScene" uid="uid://bu0wn1b3tbp1c" path="res://assets/stage_lightstrip/SM_Stage_LightStrip.glb" id="12_suqj7"]
[ext_resource type="PackedScene" uid="uid://dusqqicf4vr4m" path="res://assets/spotlight/SM_Spotlight.glb" id="13_lv745"]
[ext_resource type="PackedScene" uid="uid://u01c2ccdjkwy" path="res://assets/film_camera/SM_FilmCamera.glb" id="14_5b43b"]
[ext_resource type="PackedScene" uid="uid://ckftcbi7nyo7n" path="res://assets/rug/SM_Rug.glb" id="15_wvhxk"]
[ext_resource type="Script" uid="uid://ctn0wj4uksx34" path="res://scripts/main_camera.gd" id="16_5b43b"]
[ext_resource type="PackedScene" uid="uid://bhl3dby1g4fyh" path="res://ui/pause_menu.tscn" id="16_suqj7"]
[ext_resource type="PackedScene" uid="uid://d1wwv7wnet3rg" path="res://ui/main_menu.tscn" id="17_lv745"]

[sub_resource type="LabelSettings" id="LabelSettings_ecxui"]
font_size = 8
font_color = Color(1, 0.388782, 0.519767, 1)

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_t3lwb"]
sky_top_color = Color(0, 0, 0, 1)
sky_horizon_color = Color(0, 0, 0, 1)
ground_bottom_color = Color(0, 0, 0, 1)
ground_horizon_color = Color(0, 0, 0, 1)

[sub_resource type="Sky" id="Sky_f3sb7"]
sky_material = SubResource("ProceduralSkyMaterial_t3lwb")

[sub_resource type="Environment" id="Environment_ecxui"]
background_mode = 1
background_color = Color(0.00139845, 0.00173106, 0.00381637, 1)
sky = SubResource("Sky_f3sb7")
ambient_light_source = 2
ambient_light_color = Color(0.404511, 0.404511, 0.404511, 1)
tonemap_mode = 2
glow_enabled = true
glow_bloom = 0.14
glow_hdr_threshold = 1.01
adjustment_enabled = true
adjustment_brightness = 0.8
adjustment_contrast = 1.18
adjustment_saturation = 0.75

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_erodg"]

[sub_resource type="CapsuleMesh" id="CapsuleMesh_ecxui"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_ecxui"]

[sub_resource type="ViewportTexture" id="ViewportTexture_ljyi0"]
viewport_path = NodePath("SubViewport")

[sub_resource type="SphereShape3D" id="SphereShape3D_ljyi0"]
radius = 1.84929

[sub_resource type="SphereShape3D" id="SphereShape3D_kb6yy"]
radius = 0.982268

[sub_resource type="Animation" id="Animation_5b43b"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(-0.200467, 1.44103, 23.829)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".:fov")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [29.5537]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath(".:rotation")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(-0.00872665, 0, 0)]
}

[sub_resource type="Animation" id="Animation_henb2"]
resource_name = "pivot_from_credits"
length = 0.800003
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:rotation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.0333367, 0.06667, 0.100003, 0.133337, 0.16667, 0.200003, 0.233337, 0.26667, 0.300003, 0.333337, 0.36667, 0.400003, 0.433337, 0.46667, 0.500003, 0.533337, 0.56667, 0.600003, 0.633337, 0.66667, 0.700003, 0.733337, 0.76667, 0.800003),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1),
"update": 0,
"values": [Vector3(-0.189919, 0.750846, 0.00338655), Vector3(-0.189867, 0.750628, 0.00338557), Vector3(-0.1895, 0.749107, 0.00337871), Vector3(-0.188503, 0.744979, 0.00336009), Vector3(-0.186563, 0.73694, 0.00332383), Vector3(-0.183365, 0.723687, 0.00326405), Vector3(-0.178594, 0.703916, 0.00317488), Vector3(-0.171936, 0.676324, 0.00305043), Vector3(-0.163075, 0.639606, 0.00288482), Vector3(-0.151698, 0.592461, 0.00267218), Vector3(-0.13749, 0.533583, 0.00240663), Vector3(-0.120136, 0.46167, 0.00208228), Vector3(-0.0993217, 0.375418, 0.00169325), Vector3(-0.0785079, 0.289168, 0.00130424), Vector3(-0.0611544, 0.217256, 0.000979891), Vector3(-0.0469465, 0.15838, 0.000714341), Vector3(-0.0355696, 0.111235, 0.000501704), Vector3(-0.0267094, 0.0745187, 0.000336103), Vector3(-0.020051, 0.0469273, 0.000211657), Vector3(-0.0152801, 0.027157, 0.000122486), Vector3(-0.012082, 0.0139044, 6.2713e-05), Vector3(-0.0101422, 0.00586591, 2.64571e-05), Vector3(-0.00914607, 0.00173805, 7.83913e-06), Vector3(-0.00877908, 0.000217256, 9.79891e-07), Vector3(-0.00872665, 0, 0)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".:fov")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.0333367, 0.06667, 0.100003, 0.133337, 0.16667, 0.200003, 0.233337, 0.26667, 0.300003, 0.333337, 0.36667, 0.400003, 0.433337, 0.46667, 0.500003, 0.533337, 0.56667, 0.600003, 0.633337, 0.66667, 0.700003, 0.733337, 0.76667, 0.800003),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1),
"update": 0,
"values": [8.6, 8.60607, 8.64851, 8.76372, 8.98806, 9.35791, 9.90966, 10.6797, 11.7043, 13.02, 14.6631, 16.67, 19.077, 21.484, 23.4908, 25.1338, 26.4495, 27.4741, 28.2441, 28.7958, 29.1657, 29.39, 29.5052, 29.5476, 29.5537]
}

[sub_resource type="Animation" id="Animation_arv8b"]
resource_name = "pivot_from_options"
length = 0.800003
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:position")
tracks/0/interp = 2
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.0333334, 0.0666667, 0.1, 0.133333, 0.166667, 0.2, 0.233333, 0.266667, 0.3, 0.333333, 0.366667, 0.4, 0.433333, 0.466667, 0.5, 0.533333, 0.566667, 0.6, 0.633333, 0.666667, 0.7, 0.733333, 0.766667, 0.8),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1),
"update": 0,
"values": [Vector3(0.903322, -0.188787, 23.2895), Vector3(0.903003, -0.188315, 23.2897), Vector3(0.900767, -0.185014, 23.2907), Vector3(0.894699, -0.176054, 23.2937), Vector3(0.882881, -0.158605, 23.2995), Vector3(0.863399, -0.129838, 23.309), Vector3(0.834335, -0.0869234, 23.3232), Vector3(0.793773, -0.0270314, 23.343), Vector3(0.739798, 0.0526674, 23.3694), Vector3(0.670492, 0.155003, 23.4033), Vector3(0.583938, 0.282804, 23.4456), Vector3(0.478223, 0.4389, 23.4973), Vector3(0.351427, 0.626122, 23.5592), Vector3(0.224632, 0.813343, 23.6212), Vector3(0.118916, 0.969439, 23.6729), Vector3(0.0323635, 1.09724, 23.7152), Vector3(-0.0369427, 1.19958, 23.7491), Vector3(-0.0909185, 1.27927, 23.7755), Vector3(-0.13148, 1.33917, 23.7953), Vector3(-0.160544, 1.38208, 23.8095), Vector3(-0.180026, 1.41085, 23.819), Vector3(-0.191844, 1.4283, 23.8248), Vector3(-0.197912, 1.43726, 23.8278), Vector3(-0.200148, 1.44056, 23.8288), Vector3(-0.200467, 1.44103, 23.829)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".:fov")
tracks/1/interp = 2
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.0333334, 0.0666667, 0.1, 0.133333, 0.166667, 0.2, 0.233333, 0.266667, 0.3, 0.333333, 0.366667, 0.4, 0.433333, 0.466667, 0.5, 0.533333, 0.566667, 0.6, 0.633333, 0.666667, 0.7, 0.733333, 0.766667, 0.8),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1),
"update": 0,
"values": [17.7, 17.7034, 17.7274, 17.7926, 17.9195, 18.1287, 18.4409, 18.8765, 19.4561, 20.2004, 21.1299, 22.2652, 23.6268, 24.9885, 26.1238, 27.0533, 27.7976, 28.3772, 28.8128, 29.125, 29.3342, 29.4611, 29.5263, 29.5503, 29.5537]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath(".:rotation")
tracks/2/interp = 2
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0, 0.0333334, 0.0666667, 0.1, 0.133333, 0.166667, 0.2, 0.233333, 0.266667, 0.3, 0.333333, 0.366667, 0.4, 0.433333, 0.466667, 0.5, 0.533333, 0.566667, 0.6, 0.633333, 0.666667, 0.7, 0.733333, 0.766667, 0.8),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1),
"update": 0,
"values": [Vector3(-0.319189, -0.822818, -0.0109526), Vector3(-0.319099, -0.82258, -0.0109494), Vector3(-0.31847, -0.820913, -0.0109272), Vector3(-0.316764, -0.81639, -0.010867), Vector3(-0.31344, -0.807581, -0.0107498), Vector3(-0.30796, -0.793058, -0.0105565), Vector3(-0.299785, -0.771392, -0.0102681), Vector3(-0.288376, -0.741155, -0.00986558), Vector3(-0.273195, -0.700919, -0.00932999), Vector3(-0.253701, -0.649255, -0.00864229), Vector3(-0.229356, -0.584734, -0.00778344), Vector3(-0.199621, -0.505928, -0.00673446), Vector3(-0.163958, -0.411409, -0.0054763), Vector3(-0.128294, -0.31689, -0.00421815), Vector3(-0.0985595, -0.238084, -0.00316916), Vector3(-0.0742148, -0.173563, -0.00231031), Vector3(-0.0547211, -0.121899, -0.00162261), Vector3(-0.0395393, -0.0816628, -0.00108702), Vector3(-0.0281305, -0.0514261, -0.000684538), Vector3(-0.0199558, -0.0297605, -0.000396144), Vector3(-0.014476, -0.0152374, -0.000202826), Vector3(-0.0111521, -0.00642827, -8.55672e-05), Vector3(-0.00944531, -0.00190467, -2.53532e-05), Vector3(-0.00881648, -0.000238084, -3.16916e-06), Vector3(-0.00872665, 0, 0)]
}
tracks/3/type = "method"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("../MainMenu")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0.8),
"transitions": PackedFloat32Array(1),
"values": [{
"args": [],
"method": &"show_ui"
}]
}

[sub_resource type="Animation" id="Animation_y85n4"]
resource_name = "pivot_to_credits"
length = 0.800003
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:rotation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.0333333, 0.0666667, 0.1, 0.133333, 0.166667, 0.2, 0.233333, 0.266667, 0.3, 0.333333, 0.366667, 0.4, 0.433333, 0.466667, 0.5, 0.533333, 0.566667, 0.6, 0.633333, 0.666667, 0.7, 0.733333, 0.766667, 0.800003),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1),
"update": 0,
"values": [Vector3(-0.00872665, 0, 0), Vector3(-0.00877908, 0.000217256, 9.79891e-07), Vector3(-0.00914607, 0.00173805, 7.83913e-06), Vector3(-0.0101422, 0.00586591, 2.64571e-05), Vector3(-0.012082, 0.0139044, 6.2713e-05), Vector3(-0.0152801, 0.027157, 0.000122486), Vector3(-0.020051, 0.0469273, 0.000211657), Vector3(-0.0267094, 0.0745187, 0.000336103), Vector3(-0.0355696, 0.111235, 0.000501704), Vector3(-0.0469465, 0.15838, 0.000714341), Vector3(-0.0611544, 0.217256, 0.000979891), Vector3(-0.0785079, 0.289168, 0.00130424), Vector3(-0.0993217, 0.375418, 0.00169325), Vector3(-0.120136, 0.46167, 0.00208228), Vector3(-0.13749, 0.533583, 0.00240663), Vector3(-0.151698, 0.592461, 0.00267218), Vector3(-0.163075, 0.639606, 0.00288482), Vector3(-0.171936, 0.676324, 0.00305043), Vector3(-0.178594, 0.703916, 0.00317488), Vector3(-0.183365, 0.723687, 0.00326405), Vector3(-0.186563, 0.73694, 0.00332383), Vector3(-0.188503, 0.744979, 0.00336009), Vector3(-0.1895, 0.749107, 0.00337871), Vector3(-0.189867, 0.750628, 0.00338557), Vector3(-0.189919, 0.750846, 0.00338655)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".:fov")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.0333333, 0.0666667, 0.1, 0.133333, 0.166667, 0.2, 0.233333, 0.266667, 0.3, 0.333333, 0.366667, 0.4, 0.433333, 0.466667, 0.5, 0.533333, 0.566667, 0.6, 0.633333, 0.666667, 0.7, 0.733333, 0.766667, 0.800003),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1),
"update": 0,
"values": [29.5537, 29.5476, 29.5052, 29.39, 29.1657, 28.7958, 28.2441, 27.4741, 26.4495, 25.1338, 23.4908, 21.484, 19.077, 16.67, 14.6631, 13.02, 11.7043, 10.6797, 9.90966, 9.35791, 8.98806, 8.76372, 8.64851, 8.60607, 8.6]
}

[sub_resource type="Animation" id="Animation_lv745"]
resource_name = "pivot_to_options"
length = 0.800003
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:position")
tracks/0/interp = 2
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.0333333, 0.0666667, 0.1, 0.133333, 0.166667, 0.2, 0.233333, 0.266667, 0.3, 0.333333, 0.366667, 0.4, 0.433333, 0.466667, 0.5, 0.533333, 0.566667, 0.6, 0.633333, 0.666667, 0.7, 0.733333, 0.766667, 0.8),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1),
"update": 0,
"values": [Vector3(-0.200467, 1.44103, 23.829), Vector3(-0.200148, 1.44056, 23.8288), Vector3(-0.197912, 1.43726, 23.8278), Vector3(-0.191844, 1.4283, 23.8248), Vector3(-0.180026, 1.41085, 23.819), Vector3(-0.160544, 1.38208, 23.8095), Vector3(-0.13148, 1.33917, 23.7953), Vector3(-0.0909185, 1.27927, 23.7755), Vector3(-0.0369427, 1.19958, 23.7491), Vector3(0.0323635, 1.09724, 23.7152), Vector3(0.118916, 0.969439, 23.6729), Vector3(0.224632, 0.813343, 23.6212), Vector3(0.351427, 0.626122, 23.5592), Vector3(0.478223, 0.4389, 23.4973), Vector3(0.583938, 0.282804, 23.4456), Vector3(0.670492, 0.155003, 23.4033), Vector3(0.739798, 0.0526674, 23.3694), Vector3(0.793773, -0.0270314, 23.343), Vector3(0.834335, -0.0869234, 23.3232), Vector3(0.863399, -0.129838, 23.309), Vector3(0.882881, -0.158605, 23.2995), Vector3(0.894699, -0.176054, 23.2937), Vector3(0.900767, -0.185014, 23.2907), Vector3(0.903003, -0.188315, 23.2897), Vector3(0.903322, -0.188787, 23.2895)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".:fov")
tracks/1/interp = 2
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.0333333, 0.0666667, 0.1, 0.133333, 0.166667, 0.2, 0.233333, 0.266667, 0.3, 0.333333, 0.366667, 0.4, 0.433333, 0.466667, 0.5, 0.533333, 0.566667, 0.6, 0.633333, 0.666667, 0.7, 0.733333, 0.766667, 0.8),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1),
"update": 0,
"values": [29.5537, 29.5503, 29.5263, 29.4611, 29.3342, 29.125, 28.8128, 28.3772, 27.7976, 27.0533, 26.1238, 24.9885, 23.6268, 22.2652, 21.1299, 20.2004, 19.4561, 18.8765, 18.4409, 18.1287, 17.9195, 17.7926, 17.7274, 17.7034, 17.7]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath(".:rotation")
tracks/2/interp = 2
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0, 0.0333333, 0.0666667, 0.1, 0.133333, 0.166667, 0.2, 0.233333, 0.266667, 0.3, 0.333333, 0.366667, 0.4, 0.433333, 0.466667, 0.5, 0.533333, 0.566667, 0.6, 0.633333, 0.666667, 0.7, 0.733333, 0.766667, 0.8),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1),
"update": 0,
"values": [Vector3(-0.00872665, 0, 0), Vector3(-0.00881648, -0.000238084, -3.16916e-06), Vector3(-0.00944531, -0.00190467, -2.53532e-05), Vector3(-0.0111521, -0.00642827, -8.55672e-05), Vector3(-0.014476, -0.0152374, -0.000202826), Vector3(-0.0199558, -0.0297605, -0.000396144), Vector3(-0.0281305, -0.0514261, -0.000684538), Vector3(-0.0395393, -0.0816628, -0.00108702), Vector3(-0.0547211, -0.121899, -0.00162261), Vector3(-0.0742148, -0.173563, -0.00231031), Vector3(-0.0985595, -0.238084, -0.00316916), Vector3(-0.128294, -0.31689, -0.00421815), Vector3(-0.163958, -0.411409, -0.0054763), Vector3(-0.199621, -0.505928, -0.00673446), Vector3(-0.229356, -0.584734, -0.00778344), Vector3(-0.253701, -0.649255, -0.00864229), Vector3(-0.273195, -0.700919, -0.00932999), Vector3(-0.288376, -0.741155, -0.00986558), Vector3(-0.299785, -0.771392, -0.0102681), Vector3(-0.30796, -0.793058, -0.0105565), Vector3(-0.31344, -0.807581, -0.0107498), Vector3(-0.316764, -0.81639, -0.010867), Vector3(-0.31847, -0.820913, -0.0109272), Vector3(-0.319099, -0.82258, -0.0109494), Vector3(-0.319189, -0.822818, -0.0109526)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_y85n4"]
_data = {
&"RESET": SubResource("Animation_5b43b"),
&"pivot_from_credits": SubResource("Animation_henb2"),
&"pivot_from_options": SubResource("Animation_arv8b"),
&"pivot_to_credits": SubResource("Animation_y85n4"),
&"pivot_to_options": SubResource("Animation_lv745")
}

[sub_resource type="BoxMesh" id="BoxMesh_henb2"]
size = Vector3(1, 1, 0.075)

[sub_resource type="BoxMesh" id="BoxMesh_0sb5g"]

[sub_resource type="BoxMesh" id="BoxMesh_arv8b"]

[sub_resource type="BoxMesh" id="BoxMesh_wvhxk"]
size = Vector3(16.013, 0.130249, 2.20679)

[sub_resource type="BoxMesh" id="BoxMesh_suqj7"]
size = Vector3(3.0638, 0.130249, 2.20679)

[sub_resource type="BoxShape3D" id="BoxShape3D_wvhxk"]
size = Vector3(16.013, 0.130249, 2.20679)

[sub_resource type="BoxShape3D" id="BoxShape3D_erodg"]
size = Vector3(3.0638, 0.130249, 2.20679)

[node name="Stage" type="Node3D"]

[node name="DebugLog" type="CanvasLayer" parent="."]

[node name="DebugLabel" type="Label" parent="DebugLog"]
offset_right = 40.0
offset_bottom = 23.0
label_settings = SubResource("LabelSettings_ecxui")
language = "en_GB"

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_ecxui")

[node name="Stage" type="Node3D" parent="." node_paths=PackedStringArray("current_body", "debug_label")]
script = ExtResource("1_ecxui")
current_body = NodePath("StageBody")
debug_label = NodePath("../DebugLog/DebugLabel")

[node name="StageBody" type="CharacterBody3D" parent="Stage"]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -3)
axis_lock_linear_z = true
axis_lock_angular_z = true
script = ExtResource("2_a221a")
metadata/_custom_type_script = "uid://cpqk8hugr3cve"

[node name="ComponentOwner" type="Node" parent="Stage/StageBody"]
script = ExtResource("2_3kwj0")
jump_max = 6.0
speed = 2.0

[node name="CanJump" type="Node" parent="Stage/StageBody/ComponentOwner"]
script = ExtResource("3_a221a")

[node name="CanMove" type="Node" parent="Stage/StageBody/ComponentOwner"]
script = ExtResource("5_pf3bu")
speed = 2.0

[node name="CanReceiveInput" type="Node" parent="Stage/StageBody/ComponentOwner"]
script = ExtResource("6_d1yl1")

[node name="StageCollision" type="CollisionShape3D" parent="Stage/StageBody"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.0832447, 0)
shape = SubResource("CapsuleShape3D_erodg")

[node name="OffStageEnv" type="Node3D" parent="Stage/StageBody"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.150712, -2.34368, 17.5373)

[node name="SM_Piano2" parent="Stage/StageBody/OffStageEnv" instance=ExtResource("10_gf271")]
transform = Transform3D(-1.2144, 0, -0.441813, 0, 1.29227, 0, 0.441813, 0, -1.2144, 5.01715, 0.329832, -9.68876)

[node name="SM_Chair2" parent="Stage/StageBody/OffStageEnv" instance=ExtResource("11_wvhxk")]
transform = Transform3D(0.426521, 0, 0.904478, 0, 1, 0, -0.904478, 0, 0.426521, -3.14897, 0.445348, -5.02489)

[node name="SM_Stage_LightStrip2" parent="Stage/StageBody/OffStageEnv" instance=ExtResource("12_suqj7")]
transform = Transform3D(1, 0, 0, 0, 0.921619, 0.388095, 0, -0.388095, 0.921619, -0.0295825, 6.85826, -8.80123)

[node name="SM_Spotlight" parent="Stage/StageBody/OffStageEnv" instance=ExtResource("13_lv745")]
transform = Transform3D(0.896417, 0, 0.578299, 0, 1.06677, 0, -0.578299, 0, 0.896417, 2.23096, 0.41537, -5.38934)

[node name="SM_Spotlight2" parent="Stage/StageBody/OffStageEnv" instance=ExtResource("13_lv745")]
transform = Transform3D(1.00783, 0, -0.709869, 0, 1.23274, 0, 0.709869, 0, 1.00783, -5.36625, 0.411227, -10.1996)

[node name="SM_FilmCamera2" parent="Stage/StageBody/OffStageEnv" instance=ExtResource("14_5b43b")]
transform = Transform3D(-0.984879, 0.00119097, 0.173235, 0.00108576, 0.999999, -0.000702051, -0.173235, -0.000503341, -0.98488, -1.55049, 0.439881, -4.6462)

[node name="CSGCombiner3D2" type="CSGCombiner3D" parent="Stage/StageBody/OffStageEnv"]

[node name="CSGBox3D" type="CSGBox3D" parent="Stage/StageBody/OffStageEnv/CSGCombiner3D2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0782766, 0.184083, -5.14672)
size = Vector3(20, 0.5, 18.53)

[node name="CSGBox3D2" type="CSGBox3D" parent="Stage/StageBody/OffStageEnv/CSGCombiner3D2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0782766, 10.4065, -6.094)
size = Vector3(20, 0.5, 18.53)

[node name="CSGBox3D7" type="CSGBox3D" parent="Stage/StageBody/OffStageEnv/CSGCombiner3D2"]
transform = Transform3D(-4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, 0, 1, 7.8089, 5.07541, -5.74004)
size = Vector3(11.218, 0.5, 20.3956)

[node name="CSGBox3D8" type="CSGBox3D" parent="Stage/StageBody/OffStageEnv/CSGCombiner3D2"]
transform = Transform3D(-4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, 0, 1, -8.06964, 5.15474, -5.96201)
size = Vector3(11.218, 0.5, 19.9796)

[node name="CSGCombiner3D" type="CSGCombiner3D" parent="Stage/StageBody/OffStageEnv"]

[node name="CSGBox3D2" type="CSGBox3D" parent="Stage/StageBody/OffStageEnv/CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0.0692558, 5.12394, -15.4857)
size = Vector3(20, 0.980349, 11.339)

[node name="CSGBox3D5" type="CSGBox3D" parent="Stage/StageBody/OffStageEnv/CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 5.2886, -21.4498)
operation = 2
size = Vector3(15, 22.998, 7.72436)

[node name="CSGBox3D3" type="CSGBox3D" parent="Stage/StageBody/OffStageEnv/CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, -0.157202, -14.0244)
size = Vector3(20, 2.87421, 2.904)

[node name="CSGBox3D4" type="CSGBox3D" parent="Stage/StageBody/OffStageEnv/CSGCombiner3D"]
transform = Transform3D(1, 0.000401275, 0.000712543, 0.000712515, 6.46144e-05, -1, -0.000401324, 1, 6.43104e-05, -0.00048849, 0.584955, -14.2319)
size = Vector3(20, 3.90566, 0.688727)

[node name="SM_Rug" parent="Stage/StageBody/OffStageEnv" instance=ExtResource("15_wvhxk")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.12904, 0.43305, -8.46557)

[node name="PlayerChildBody" type="CharacterBody3D" parent="Stage/StageBody"]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.0832447, 3)
axis_lock_linear_z = true
axis_lock_angular_z = true
script = ExtResource("2_a221a")
metadata/_custom_type_script = "uid://cpqk8hugr3cve"

[node name="PlayerChildMesh" type="MeshInstance3D" parent="Stage/StageBody/PlayerChildBody"]
mesh = SubResource("CapsuleMesh_ecxui")

[node name="PlayerChildCollision" type="CollisionShape3D" parent="Stage/StageBody/PlayerChildBody"]
shape = SubResource("CapsuleShape3D_ecxui")

[node name="ComponentOwner" type="Node" parent="Stage/StageBody/PlayerChildBody" node_paths=PackedStringArray("hit_area")]
script = ExtResource("2_3kwj0")
speed = 2.0
value = 50.0
delay_seconds = 1.0
continuous = false
hit_area = NodePath("../PlayerHitArea")
health = 100.0

[node name="CanMove" type="Node" parent="Stage/StageBody/PlayerChildBody/ComponentOwner"]
script = ExtResource("5_pf3bu")
speed = 2.0

[node name="CanReceiveInput" type="Node" parent="Stage/StageBody/PlayerChildBody/ComponentOwner"]
script = ExtResource("6_d1yl1")

[node name="CanAttack" type="Node" parent="Stage/StageBody/PlayerChildBody/ComponentOwner" node_paths=PackedStringArray("hit_area")]
script = ExtResource("7_ljyi0")
value = 50.0
continuous = false
hit_area = NodePath("../../PlayerHitArea")

[node name="HasHealth" type="Node" parent="Stage/StageBody/PlayerChildBody/ComponentOwner"]
script = ExtResource("8_kb6yy")

[node name="PlayerDialogueBubble" parent="Stage/StageBody/PlayerChildBody" instance=ExtResource("7_d1yl1")]
unique_name_in_owner = true
transform = Transform3D(2.6103, 0, 0, 0, 2.6103, 0, 0, 0, 2.6103, 0, 1.81406, 0)
texture = SubResource("ViewportTexture_ljyi0")

[node name="PlayerHitArea" type="Area3D" parent="Stage/StageBody/PlayerChildBody"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Stage/StageBody/PlayerChildBody/PlayerHitArea"]
shape = SubResource("SphereShape3D_ljyi0")

[node name="EnemyTemp" type="CharacterBody3D" parent="Stage/StageBody"]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.52532, -0.142006, -0.0603962)
axis_lock_linear_z = true
axis_lock_angular_z = true
script = ExtResource("2_a221a")
metadata/_custom_type_script = "uid://cpqk8hugr3cve"

[node name="EnemyChildMesh" type="MeshInstance3D" parent="Stage/StageBody/EnemyTemp"]
mesh = SubResource("CapsuleMesh_ecxui")

[node name="EnemyChildCollision" type="CollisionShape3D" parent="Stage/StageBody/EnemyTemp"]
shape = SubResource("CapsuleShape3D_ecxui")

[node name="ComponentOwner" type="Node" parent="Stage/StageBody/EnemyTemp" node_paths=PackedStringArray("hit_area")]
script = ExtResource("2_3kwj0")
value = 10.0
delay_seconds = 1.0
continuous = true
hit_area = NodePath("../EnemyHitArea")
health = 100.0

[node name="CanAttack" type="Node" parent="Stage/StageBody/EnemyTemp/ComponentOwner" node_paths=PackedStringArray("hit_area")]
script = ExtResource("7_ljyi0")
hit_area = NodePath("../../EnemyHitArea")

[node name="HasHealth" type="Node" parent="Stage/StageBody/EnemyTemp/ComponentOwner"]
script = ExtResource("8_kb6yy")

[node name="EnemyHitArea" type="Area3D" parent="Stage/StageBody/EnemyTemp"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Stage/StageBody/EnemyTemp/EnemyHitArea"]
shape = SubResource("SphereShape3D_kb6yy")

[node name="MainCamera" type="Camera3D" parent="Stage/StageBody"]
transform = Transform3D(1, 0, 0, 0, 0.999962, 0.00872654, 0, -0.00872654, 0.999962, -0.200467, 1.44103, 23.829)
fov = 29.5537
script = ExtResource("16_5b43b")

[node name="CameraAnimationPlayer" type="AnimationPlayer" parent="Stage/StageBody/MainCamera"]
unique_name_in_owner = true
libraries = {
&"": SubResource("AnimationLibrary_y85n4")
}

[node name="SpotLight3D" type="SpotLight3D" parent="Stage/StageBody"]
transform = Transform3D(1, 0, 0, 0, 0.929062, 0.369925, 0, -0.369925, 0.929062, 0, 4.03158, 17.3484)
light_energy = 0.077
shadow_enabled = true
shadow_bias = 0.095
spot_range = 312.922
spot_attenuation = -0.38

[node name="SpotLight3D3" type="SpotLight3D" parent="Stage/StageBody"]
transform = Transform3D(0.934248, 0.131924, -0.331325, 0.10109, 0.792989, 0.600791, 0.341996, -0.594781, 0.727512, -3.08481, 4.24015, 8.44111)
light_energy = 0.357
shadow_enabled = true
spot_range = 176.005
spot_attenuation = -0.38
spot_angle = 17.83

[node name="SpotLight3D2" type="SpotLight3D" parent="Stage/StageBody"]
transform = Transform3D(0.920914, -0.188533, -0.341135, 0.312467, 0.880285, 0.357019, 0.232987, -0.435377, 0.869577, -4.15842, 3.24362, 22.104)
light_energy = 0.163
shadow_enabled = true
shadow_bias = 1.125
spot_range = 11.4877
spot_attenuation = 0.5
spot_angle = 43.2052

[node name="SpotLight3D4" type="SpotLight3D" parent="Stage/StageBody"]
transform = Transform3D(0.865244, -0.108624, -0.489442, 0.312467, 0.880285, 0.357019, 0.392067, -0.461843, 0.795603, 2.69606, -0.353967, 22.4523)
light_energy = 0.163
shadow_enabled = true
shadow_bias = 1.125
spot_range = 4.04814
spot_attenuation = 0.5
spot_angle = 30.0546

[node name="SpotLight3D5" type="SpotLight3D" parent="Stage/StageBody"]
transform = Transform3D(0.842276, -0.259253, 0.472609, 0.159316, 0.957308, 0.241207, -0.514966, -0.127868, 0.84762, -2.59877, 1.18401, 22.2662)
light_energy = 0.163
shadow_enabled = true
shadow_bias = 1.125
spot_range = 4.04814
spot_attenuation = 0.5
spot_angle = 15.7139

[node name="PauseMenu" parent="Stage/StageBody" instance=ExtResource("16_suqj7")]
transform = Transform3D(-2.49204, -0.00390569, -0.00566167, -0.00392204, 2.49204, 0.0071997, 0.00565035, 0.00720858, -2.49204, -0.347108, -1.93184, 8.62256)

[node name="MainMenu" parent="Stage/StageBody" instance=ExtResource("17_lv745")]
transform = Transform3D(1, 0, 0, 0, 0.999962, 0.00872654, 0, -0.00872654, 0.999962, -0.200467, 1.44103, 23.829)

[node name="Wall3" type="MeshInstance3D" parent="Stage/StageBody"]
transform = Transform3D(-1.25147e-07, -8.87747, 0, 2.86303, -3.88047e-07, 0, 0, 0, 22.0398, -1.44915, -1.48396, 19.0158)
mesh = SubResource("BoxMesh_henb2")
skeleton = NodePath("")

[node name="Options" type="Node3D" parent="Stage/StageBody"]

[node name="Wall5" type="MeshInstance3D" parent="Stage/StageBody/Options"]
transform = Transform3D(-1.30968e-07, 0, -2.19536, 0, 10.3263, 0, 2.9962, 0, -9.59624e-08, -4.912, 1.805, 20.2404)
mesh = SubResource("BoxMesh_henb2")
skeleton = NodePath("")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Stage/StageBody/Options"]
transform = Transform3D(0.830857, -0.103906, 0.0240281, 6.98387e-09, 0.717033, 0.0126473, -0.512106, -0.16858, 0.0389839, -4.26929, 0.308423, 19.4704)
mesh = SubResource("BoxMesh_0sb5g")
skeleton = NodePath("")

[node name="Wall4" type="MeshInstance3D" parent="Stage/StageBody/Options"]
transform = Transform3D(2.86303, 0, 0, 0, 8.87747, 0, 0, 0, 5.73753, -3.841, 0.977, 18.6306)
mesh = SubResource("BoxMesh_henb2")
skeleton = NodePath("")

[node name="CreditsMenu" type="Node3D" parent="Stage/StageBody"]

[node name="MeshInstance3D2" type="MeshInstance3D" parent="Stage/StageBody/CreditsMenu"]
transform = Transform3D(-0.830857, 0.103906, -0.0240281, -5.39687e-09, 0.717033, 0.0126473, 0.512106, 0.16858, -0.0389839, -4.39303, 0.302746, 19.2633)
mesh = SubResource("BoxMesh_0sb5g")

[node name="Wall" type="MeshInstance3D" parent="Stage/StageBody/CreditsMenu"]
transform = Transform3D(2.86303, 0, 0, 0, 8.87747, 0, 0, 0, 22.0398, 3.84055, 0.976626, 18.729)
mesh = SubResource("BoxMesh_henb2")
skeleton = NodePath("")

[node name="Wall2" type="MeshInstance3D" parent="Stage/StageBody/CreditsMenu"]
transform = Transform3D(-9.59624e-08, 0, -2.19536, 0, 10.3263, 0, 2.19536, 0, -9.59624e-08, 4.91246, 1.80498, 20.7151)
mesh = SubResource("BoxMesh_henb2")
skeleton = NodePath("")

[node name="MeshInstance3D3" type="MeshInstance3D" parent="Stage/StageBody/CreditsMenu"]
transform = Transform3D(0.726419, 0, -0.687252, 0, 1, 0, 0.687252, 0, 0.726419, 4.01534, -1.60533, 20.4429)
mesh = SubResource("BoxMesh_arv8b")
skeleton = NodePath("")

[node name="StaticFloor" type="StaticBody3D" parent="."]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0112076, -1.17205, 0)

[node name="FloorMesh" type="MeshInstance3D" parent="StaticFloor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.0257498, -3.06454)
mesh = SubResource("BoxMesh_wvhxk")

[node name="PlatformMesh" type="MeshInstance3D" parent="StaticFloor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4.77702, 0.986864, -3.06454)
mesh = SubResource("BoxMesh_suqj7")

[node name="Floor" type="CollisionShape3D" parent="StaticFloor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.0257498, 0)
shape = SubResource("BoxShape3D_wvhxk")

[node name="Floor2" type="CollisionShape3D" parent="StaticFloor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.0257498, -3.06454)
shape = SubResource("BoxShape3D_wvhxk")

[node name="Floor3" type="CollisionShape3D" parent="StaticFloor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4.77702, 0.986864, -3.06454)
shape = SubResource("BoxShape3D_erodg")

[connection signal="pivoted_to_parent_menu" from="Stage/StageBody/MainCamera" to="Stage/StageBody/MainMenu" method="show_ui"]
[connection signal="credits_clicked" from="Stage/StageBody/MainMenu" to="Stage/StageBody/MainCamera" method="pivot_to_credits"]
[connection signal="options_clicked" from="Stage/StageBody/MainMenu" to="Stage/StageBody/MainCamera" method="pivot_to_options"]
